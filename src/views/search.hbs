<head>
    <link rel="stylesheet" href="/css/index.css">
    <script src="/js/index.js"></script>
</head>

<body>
    <div class="wrap">
        <h2 style="color: #52C1FF;">검색 결과</h2>
        <div id="cards-box" class="area-read">
            {{#if memos.length}}
                {{#each memos}}
                    <div class="card">
                        <!-- date/username 영역 -->
                        <div class="metadata">
                            <div class="date">
                                <script>
                                    document.write(formatTimeStamp('{{this.createdAt.seconds}}'));
                                </script>
                            </div>
                        </div>
                        <!-- content 조회/수정 영역-->
                        <div class="content">
                            <div id="{{this.id}}-content" class="text">
                                {{this.content}}
                            </div>

                            <div id="{{this.id}}-editarea" class="edit">
                                <textarea id="{{this.id}}-textarea" class="te-edit" cols="30" rows="1"></textarea>
                            </div>
                            {{#if this.files.length}}
                                <div class="row row-cols-4" id="{{this.id}}-imageContainer">
                                    {{#each this.files}}
                                        {{#if (startsWith this.type 'image/')}}
                                            <div class="col input-col file-view">
                                                <img src="{{this.downloadURL}}" alt="{{this.fileName}}">
                                            </div>
                                        {{/if}}
                                    {{/each}}
                                </div>

                                <div id="{{this.id}}-fileContainer">
                                    {{#each this.files}}
                                        {{#unless (startsWith this.type 'image/')}}
                                            <a href="{{this.downloadURL}}" download>
                                                <div class="col input-col file-col file-view">
                                                    <i class="xi-file-download-o xi-2x"></i>
                                                    <span class="file-name">{{this.fileName}}</span>
                                                </div>
                                            </a>
                                        {{/unless}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                        <!-- 버튼 영역-->
                        <div class="footer">
                            <i id="{{this.id}}-image" class="xi-image xi-x" onclick="addImage('{{this.id}}-imageContainer')"></i>
                            <i id="{{this.id}}-file" class="xi-paperclip xi-x"></i>
                            <i id="{{this.id}}-bookmark" class="xi-star-o xi-x" onclick="bookmark('{{this.id}}')" 
                                style="display: {{#if this.bookmark}}none{{else}}block{{/if}};"></i>
                            <i id="{{this.id}}-unbookmark" class="xi-star xi-x" onclick="unBookmark('{{this.id}}')"
                                style="display: {{#if this.bookmark}}block{{else}}none{{/if}};"></i>
                            <img id="{{this.id}}-edit" class="icon-start-edit" src="/img/edit.png" alt=""
                                onclick="editPost('{{this.id}}')">
                            <img id="{{this.id}}-delete" class="icon-delete" src="/img/delete.png" alt=""
                                onclick="deleteOne('{{this.id}}')">
                            <img id="{{this.id}}-submit" class="icon-end-edit" src="/img/done.png" alt=""
                                onclick="submitEdit('{{this.id}}')">
                        </div>
                    </div>
                {{/each}}
            {{else}}
                <p>검색 결과가 없습니다.</p>
            {{/if}}
        </div>
    </div>
</body>

</html>
